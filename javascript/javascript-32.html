<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div id="root"></div>
  <script>
    const root = document.getElementById("root");
    // 변수 root에 #root 할당
    root.style.display = "flex";
    root.style.justifyContent = "center";
    root.style.alignItems = "center";
    root.style.flexWrap = "wrap";
    // root 스타일링

    const propertyList = [];
    // propertyList 변수에 빈 배열 할당
    for (const props in root) {
      propertyList.push(props);
    }
    console.dir(root);
    // root를 콘솔에 찍어보면, 객체형태로 되어있다.
    // 빈 배열 propertyList에 root의 키만 항목으로 넣어준다.
    console.log(propertyList);
    const alphabetCorrect = propertyList.filter(function (element) {
      return element[0] === "o";
    });
    // filter() : 함수에 적합한값만 모아 새로운 배열을 만든다.
    // propertyList의 항목들 중에 첫번째 글짜가 'o' 인 항목을 모아 
    // alphabetCorrect 변수에 새 배열로 할당 
    console.log(alphabetCorrect); // 새로운 배열 
    function TagList(element, index) {
      this.id = index;
      this.name = element;
    }
    // TagList 라는 생성자함수 선언
    // 매개변수 index는 id 값으로 할당
    // 매개변수 element는 name 값으로 할당
    const setResult = [];
    // setResult라는 변수에 빈 배열 할당
    let counter = 0;
    // counter라는 변수에 0을 할당
    alphabetCorrect.forEach(function (element, index) {
      setResult.push(new TagList(element, index));
      counter++;
      console.log(counter);
      console.log(setResult)
    })
    // alphabetCorrect 배열을 순회히하면서, 요소랑 인덱스 값을 받는데,
    // TagList 객체를 setResult 배열에 각 항목으로 push할 것
    // setResult의 0번째 항목은 
    // TagList {id: 0, name: 'offsetParent'}
    // 실행될때마다 counter의 값은 증가
    // alphabetCorrect의 length만큼 반복하기때문에 counter의 값은 111이 된다.
    console.log("----------------------");

    function tagMaker(parnetElement, tagName, array, counter) {
      // tagMaker 함수 선언
      for (let i = 0; i < counter; i++) {
        let element = document.createElement(tagName);
        // element 변수에 매개변수 tagName의 값을 받으면 문서의 요소를 만들어서 할당한다.
        // 할당된 element 변수는 반복문에 의해, 계속 값이만들어지고, 스타일링이 된다.
        element.style.width = counter + "px";
        element.style.height = counter + "px";
        element.style.backgroundColor = `rgba(${counter},${counter},${counter})`;
        element.style.margin = counter / counter + "px";
        element.textContent = array[i].name;
        // 변수 element들의 textContent는 매개변수 array 배열의 항목의 name값이 할당된다.
        parnetElement.appendChild(element);
        // 매개변수 parentElement 의 자식요소로 element변수값이 붙여진다.
      }
    }

    tagMaker(root, "div", setResult, counter);
    // console.log(setResult[0].name)

    // tagMaker함수 호출
    // 인자 counter의 값과 같아지지 않을만큼 반복문을 실행한다.
    // tagname이 인자 div이므로 변수 element는 div태그를 문서의 요소로 만든다.
    // 스타일링하고, setResult의 name값을 만들어진 div태그에 textContent로 할당한다.
    // div태그값을 모두 root의 자식요소로 붙인다.

    root.addEventListener('click', function (event) {
      event.target.style.backgroundColor = "cadetblue";
    })

    // root를 클릭하면 배경색이 cadetblue로 바뀌는 이벤트를 생성했다.

  </script>
</body>

</html>